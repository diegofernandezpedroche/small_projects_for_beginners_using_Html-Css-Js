# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

jobs:
- job: TestEnvironment

  steps:
  - script: echo "Hello!" ; echo "Arrancando servicio apache y verificando que este arriba"; sudo systemctl start apache2.service; echo `ps -ef | grep -i httpd` ; echo "Se va a ejecutar el comando: ls $(htmlpath)"
    displayName: 'Apache installed and ready to receive the HTML code'
    condition: always() # this step will always run, even if the pipeline is canceled

- job: Bar
  dependsOn: TestEnvironment
  condition: failed() # this job will only run if TestEnvironment fails

